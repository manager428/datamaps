var width=960,height=500,color=d3.scale.category20c(),treemap=d3.layout.treemap().padding(4).size([width,height]).value(function(e){return e.size}),svg=d3.select("body").append("svg").attr("width",width).attr("height",height).append("g").attr("transform","translate(-.5,-.5)");d3.json("../data/flare.json",function(e){var t=svg.data([e]).selectAll("g").data(treemap).enter().append("g").attr("class","cell").attr("transform",function(e){return"translate("+e.x+","+e.y+")"});t.append("rect").attr("width",function(e){return e.dx}).attr("height",function(e){return e.dy}).style("fill",function(e){return e.children?color(e.data.name):null}),t.append("text").attr("x",function(e){return e.dx/2}).attr("y",function(e){return e.dy/2}).attr("dy",".35em").attr("text-anchor","middle").text(function(e){return e.children?null:e.data.name})})