(function(){function n(e,n,r){var i=-1,s=2*Math.PI/n,o,u=0,a,f,l=[];while(++i<n)o=e.m*(i*s-Math.PI)/4,o=Math.pow(Math.abs(Math.pow(Math.abs(Math.cos(o)/e.a),e.n2)+Math.pow(Math.abs(Math.sin(o)/e.b),e.n3)),-1/e.n1),o>u&&(u=o),l.push(o);u=r*Math.SQRT1_2/u,i=-1;while(++i<n)a=(o=l[i]*u)*Math.cos(i*s),f=o*Math.sin(i*s),l[i]=[Math.abs(a)<1e-6?0:a,Math.abs(f)<1e-6?0:f];return t(l)+"Z"}var e=d3.svg.symbol(),t=d3.svg.line();superformula=function(){function u(e,u){var a,f=r[t.call(this,e,u)];for(a in o)f[a]=o[a].call(this,e,u);return n(f,s.call(this,e,u),Math.sqrt(i.call(this,e,u)))}var t=e.type(),i=e.size(),s=i,o={};return u.type=function(e){return arguments.length?(t=d3.functor(e),u):t},u.param=function(e,t){return arguments.length<2?o[e]:(o[e]=d3.functor(t),u)},u.size=function(e){return arguments.length?(i=d3.functor(e),u):i},u.segments=function(e){return arguments.length?(s=d3.functor(e),u):s},u};var r={asterisk:{m:12,n1:.3,n2:0,n3:10,a:1,b:1},bean:{m:2,n1:1,n2:4,n3:8,a:1,b:1},butterfly:{m:3,n1:1,n2:6,n3:2,a:.6,b:1},circle:{m:4,n1:2,n2:2,n3:2,a:1,b:1},clover:{m:6,n1:.3,n2:0,n3:10,a:1,b:1},cloverFour:{m:8,n1:10,n2:-1,n3:-8,a:1,b:1},cross:{m:8,n1:1.3,n2:.01,n3:8,a:1,b:1},diamond:{m:4,n1:1,n2:1,n3:1,a:1,b:1},drop:{m:1,n1:.5,n2:.5,n3:.5,a:1,b:1},ellipse:{m:4,n1:2,n2:2,n3:2,a:9,b:6},gear:{m:19,n1:100,n2:50,n3:50,a:1,b:1},heart:{m:1,n1:.8,n2:1,n3:-8,a:1,b:.18},heptagon:{m:7,n1:1e3,n2:400,n3:400,a:1,b:1},hexagon:{m:6,n1:1e3,n2:400,n3:400,a:1,b:1},malteseCross:{m:8,n1:.9,n2:.1,n3:100,a:1,b:1},pentagon:{m:5,n1:1e3,n2:600,n3:600,a:1,b:1},rectangle:{m:4,n1:100,n2:100,n3:100,a:2,b:1},roundedStar:{m:5,n1:2,n2:7,n3:7,a:1,b:1},square:{m:4,n1:100,n2:100,n3:100,a:1,b:1},star:{m:5,n1:30,n2:100,n3:100,a:1,b:1},triangle:{m:3,n1:100,n2:200,n3:200,a:1,b:1}};superformulaTypes=d3.keys(r)})()