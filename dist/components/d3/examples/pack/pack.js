var width=960,height=960,format=d3.format(",d"),pack=d3.layout.pack().size([width-4,height-4]).value(function(e){return e.size}),vis=d3.select("#chart").append("svg").attr("width",width).attr("height",height).attr("class","pack").append("g").attr("transform","translate(2, 2)");d3.json("../data/flare.json",function(e){var t=vis.data([e]).selectAll("g.node").data(pack.nodes).enter().append("g").attr("class",function(e){return e.children?"node":"leaf node"}).attr("transform",function(e){return"translate("+e.x+","+e.y+")"});t.append("title").text(function(e){return e.name+(e.children?"":": "+format(e.size))}),t.append("circle").attr("r",function(e){return e.r}),t.filter(function(e){return!e.children}).append("text").attr("text-anchor","middle").attr("dy",".3em").text(function(e){return e.name.substring(0,e.r/3)})})