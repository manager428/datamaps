function histogramChart(){function u(u){u.each(function(u){u=r(u),i.domain(u.map(function(e){return e.x})).rangeRoundBands([0,t-e.left-e.right],.1),s.domain([0,d3.max(u,function(e){return e.y})]).range([n-e.top-e.bottom,0]);var a=d3.select(this).selectAll("svg").data([u]),f=a.enter().append("svg").append("g");f.append("g").attr("class","bars"),f.append("g").attr("class","x axis"),a.attr("width",t).attr("height",n);var l=a.select("g").attr("transform","translate("+e.left+","+e.top+")"),c=a.select(".bars").selectAll(".bar").data(u);c.enter().append("rect"),c.exit().remove(),c.attr("width",i.rangeBand()).attr("x",function(e){return i(e.x)}).attr("y",function(e){return s(e.y)}).attr("height",function(e){return s.range()[0]-s(e.y)}).order(),l.select(".x.axis").attr("transform","translate(0,"+s.range()[0]+")").call(o)})}var e={top:0,right:0,bottom:20,left:0},t=960,n=500,r=d3.layout.histogram(),i=d3.scale.ordinal(),s=d3.scale.linear(),o=d3.svg.axis().scale(i).orient("bottom").tickSize(6,0);return u.margin=function(t){return arguments.length?(e=t,u):e},u.width=function(e){return arguments.length?(t=e,u):t},u.height=function(e){return arguments.length?(n=e,u):n},d3.rebind(u,r,"value","range","bins"),d3.rebind(u,o,"tickFormat"),u}