function d3_layout_hierarchyRebind(e,t){return d3.rebind(e,t,"sort","children","value"),e.links=d3_layout_hierarchyLinks,e.nodes=function(t){return d3_layout_hierarchyInline=!0,(e.nodes=e)(t)},e}function d3_layout_hierarchyChildren(e){return e.children}function d3_layout_hierarchyValue(e){return e.value}function d3_layout_hierarchySort(e,t){return t.value-e.value}function d3_layout_hierarchyLinks(e){return d3.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}d3.layout.hierarchy=function(){function r(i,o,u){var a=t.call(s,i,o),f=d3_layout_hierarchyInline?i:{data:i};f.depth=o,u.push(f);if(a&&(c=a.length)){var l=-1,c,h=f.children=[],p=0,d=o+1,v;while(++l<c)v=r(a[l],d,u),v.parent=f,h.push(v),p+=v.value;e&&h.sort(e),n&&(f.value=p)}else n&&(f.value=+n.call(s,i,o)||0);return f}function i(e,t){var r=e.children,o=0;if(r&&(a=r.length)){var u=-1,a,f=t+1;while(++u<a)o+=i(r[u],f)}else n&&(o=+n.call(s,d3_layout_hierarchyInline?e:e.data,t)||0);return n&&(e.value=o),o}function s(e){var t=[];return r(e,0,t),t}var e=d3_layout_hierarchySort,t=d3_layout_hierarchyChildren,n=d3_layout_hierarchyValue;return s.sort=function(t){return arguments.length?(e=t,s):e},s.children=function(e){return arguments.length?(t=e,s):t},s.value=function(e){return arguments.length?(n=e,s):n},s.revalue=function(e){return i(e,0),e},s};var d3_layout_hierarchyInline=!1