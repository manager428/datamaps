function d3_layout_histogramBinSturges(e,t){return d3_layout_histogramBinFixed(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(e,t){var n=-1,r=+e[0],i=(e[1]-r)/t,s=[];while(++n<=t)s[n]=i*n+r;return s}function d3_layout_histogramRange(e){return[d3.min(e),d3.max(e)]}d3.layout.histogram=function(){function i(i,s){var o=[],u=i.map(t,this),a=n.call(this,u,s),f=r.call(this,a,u,s),l,s=-1,c=u.length,h=f.length-1,p=e?1:1/c,d;while(++s<h)l=o[s]=[],l.dx=f[s+1]-(l.x=f[s]),l.y=0;if(h>0){s=-1;while(++s<c)d=u[s],d>=a[0]&&d<=a[1]&&(l=o[d3.bisect(f,d,1,h)-1],l.y+=p,l.push(i[s]))}return o}var e=!0,t=Number,n=d3_layout_histogramRange,r=d3_layout_histogramBinSturges;return i.value=function(e){return arguments.length?(t=e,i):t},i.range=function(e){return arguments.length?(n=d3_functor(e),i):n},i.bins=function(e){return arguments.length?(r=typeof e=="number"?function(t){return d3_layout_histogramBinFixed(t,e)}:d3_functor(e),i):r},i.frequency=function(t){return arguments.length?(e=!!t,i):e},i}