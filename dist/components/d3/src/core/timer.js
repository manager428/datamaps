function d3_timer_step(){var e,t=Date.now(),n=d3_timer_queue;while(n)e=t-n.then,e>=n.delay&&(n.flush=n.callback(e)),n=n.next;var r=d3_timer_flush()-t;r>24?(isFinite(r)&&(clearTimeout(d3_timer_timeout),d3_timer_timeout=setTimeout(d3_timer_step,r)),d3_timer_interval=0):(d3_timer_interval=1,d3_timer_frame(d3_timer_step))}function d3_timer_flush(){var e=null,t=d3_timer_queue,n=Infinity;while(t)t.flush?(delete d3_timer_byId[t.callback.id],t=e?e.next=t.next:d3_timer_queue=t.next):(n=Math.min(n,t.then+t.delay),t=(e=t).next);return n}var d3_timer_id=0,d3_timer_byId={},d3_timer_queue=null,d3_timer_interval,d3_timer_timeout;d3.timer=function(e,t,n){if(arguments.length<3){if(arguments.length<2)t=0;else if(!isFinite(t))return;n=Date.now()}var r=d3_timer_byId[e.id];r&&r.callback===e?(r.then=n,r.delay=t):d3_timer_byId[e.id=++d3_timer_id]=d3_timer_queue={callback:e,then:n,delay:t,next:d3_timer_queue},d3_timer_interval||(d3_timer_timeout=clearTimeout(d3_timer_timeout),d3_timer_interval=1,d3_timer_frame(d3_timer_step))},d3.timer.flush=function(){var e,t=Date.now(),n=d3_timer_queue;while(n)e=t-n.then,n.delay||(n.flush=n.callback(e)),n=n.next;d3_timer_flush()};var d3_timer_frame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,17)}