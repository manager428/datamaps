function d3_time_parse(e,t,n,r){var i,s,o=0,u=t.length,a=n.length;while(o<u){if(r>=a)return-1;i=t.charCodeAt(o++);if(i==37){s=d3_time_parsers[t.charAt(o++)];if(!s||(r=s(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function d3_time_formatRe(e){return new RegExp("^(?:"+e.map(d3.requote).join("|")+")","i")}function d3_time_formatLookup(e){var t=new d3_Map,n=-1,r=e.length;while(++n<r)t.set(e[n].toLowerCase(),n);return t}function d3_time_parseWeekdayAbbrev(e,t,n){d3_time_dayAbbrevRe.lastIndex=0;var r=d3_time_dayAbbrevRe.exec(t.substring(n));return r?n+=r[0].length:-1}function d3_time_parseWeekday(e,t,n){d3_time_dayRe.lastIndex=0;var r=d3_time_dayRe.exec(t.substring(n));return r?n+=r[0].length:-1}function d3_time_parseMonthAbbrev(e,t,n){d3_time_monthAbbrevRe.lastIndex=0;var r=d3_time_monthAbbrevRe.exec(t.substring(n));return r?(e.m=d3_time_monthAbbrevLookup.get(r[0].toLowerCase()),n+=r[0].length):-1}function d3_time_parseMonth(e,t,n){d3_time_monthRe.lastIndex=0;var r=d3_time_monthRe.exec(t.substring(n));return r?(e.m=d3_time_monthLookup.get(r[0].toLowerCase()),n+=r[0].length):-1}function d3_time_parseLocaleFull(e,t,n){return d3_time_parse(e,d3_time_formats.c.toString(),t,n)}function d3_time_parseLocaleDate(e,t,n){return d3_time_parse(e,d3_time_formats.x.toString(),t,n)}function d3_time_parseLocaleTime(e,t,n){return d3_time_parse(e,d3_time_formats.X.toString(),t,n)}function d3_time_parseFullYear(e,t,n){d3_time_numberRe.lastIndex=0;var r=d3_time_numberRe.exec(t.substring(n,n+4));return r?(e.y=+r[0],n+=r[0].length):-1}function d3_time_parseYear(e,t,n){d3_time_numberRe.lastIndex=0;var r=d3_time_numberRe.exec(t.substring(n,n+2));return r?(e.y=d3_time_expandYear(+r[0]),n+=r[0].length):-1}function d3_time_expandYear(e){return e+(e>68?1900:2e3)}function d3_time_parseMonthNumber(e,t,n){d3_time_numberRe.lastIndex=0;var r=d3_time_numberRe.exec(t.substring(n,n+2));return r?(e.m=r[0]-1,n+=r[0].length):-1}function d3_time_parseDay(e,t,n){d3_time_numberRe.lastIndex=0;var r=d3_time_numberRe.exec(t.substring(n,n+2));return r?(e.d=+r[0],n+=r[0].length):-1}function d3_time_parseHour24(e,t,n){d3_time_numberRe.lastIndex=0;var r=d3_time_numberRe.exec(t.substring(n,n+2));return r?(e.H=+r[0],n+=r[0].length):-1}function d3_time_parseMinutes(e,t,n){d3_time_numberRe.lastIndex=0;var r=d3_time_numberRe.exec(t.substring(n,n+2));return r?(e.M=+r[0],n+=r[0].length):-1}function d3_time_parseSeconds(e,t,n){d3_time_numberRe.lastIndex=0;var r=d3_time_numberRe.exec(t.substring(n,n+2));return r?(e.S=+r[0],n+=r[0].length):-1}function d3_time_parseMilliseconds(e,t,n){d3_time_numberRe.lastIndex=0;var r=d3_time_numberRe.exec(t.substring(n,n+3));return r?(e.L=+r[0],n+=r[0].length):-1}function d3_time_parseAmPm(e,t,n){var r=d3_time_amPmLookup.get(t.substring(n,n+=2).toLowerCase());return r==null?-1:(e.p=r,n)}function d3_time_zone(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=~~(Math.abs(t)/60),i=Math.abs(t)%60;return n+d3_time_zfill2(r)+d3_time_zfill2(i)}d3.time.format=function(e){function n(n){var r=[],i=-1,s=0,o,u;while(++i<t)e.charCodeAt(i)==37&&(r.push(e.substring(s,i),(u=d3_time_formats[o=e.charAt(++i)])?u(n):o),s=i+1);return r.push(e.substring(s,i)),r.join("")}var t=e.length;return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},r=d3_time_parse(n,e,t,0);if(r!=t.length)return null;"p"in n&&(n.H=n.H%12+n.p*12);var i=new d3_time;return i.setFullYear(n.y,n.m,n.d),i.setHours(n.H,n.M,n.S,n.L),i},n.toString=function(){return e},n};var d3_time_zfill2=d3.format("02d"),d3_time_zfill3=d3.format("03d"),d3_time_zfill4=d3.format("04d"),d3_time_sfill2=d3.format("2d"),d3_time_dayRe=d3_time_formatRe(d3_time_days),d3_time_dayAbbrevRe=d3_time_formatRe(d3_time_dayAbbreviations),d3_time_monthRe=d3_time_formatRe(d3_time_months),d3_time_monthLookup=d3_time_formatLookup(d3_time_months),d3_time_monthAbbrevRe=d3_time_formatRe(d3_time_monthAbbreviations),d3_time_monthAbbrevLookup=d3_time_formatLookup(d3_time_monthAbbreviations),d3_time_formats={a:function(e){return d3_time_dayAbbreviations[e.getDay()]},A:function(e){return d3_time_days[e.getDay()]},b:function(e){return d3_time_monthAbbreviations[e.getMonth()]},B:function(e){return d3_time_months[e.getMonth()]},c:d3.time.format(d3_time_formatDateTime),d:function(e){return d3_time_zfill2(e.getDate())},e:function(e){return d3_time_sfill2(e.getDate())},H:function(e){return d3_time_zfill2(e.getHours())},I:function(e){return d3_time_zfill2(e.getHours()%12||12)},j:function(e){return d3_time_zfill3(1+d3.time.dayOfYear(e))},L:function(e){return d3_time_zfill3(e.getMilliseconds())},m:function(e){return d3_time_zfill2(e.getMonth()+1)},M:function(e){return d3_time_zfill2(e.getMinutes())},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(e){return d3_time_zfill2(e.getSeconds())},U:function(e){return d3_time_zfill2(d3.time.sundayOfYear(e))},w:function(e){return e.getDay()},W:function(e){return d3_time_zfill2(d3.time.mondayOfYear(e))},x:d3.time.format(d3_time_formatDate),X:d3.time.format(d3_time_formatTime),y:function(e){return d3_time_zfill2(e.getFullYear()%100)},Y:function(e){return d3_time_zfill4(e.getFullYear()%1e4)},Z:d3_time_zone,"%":function(e){return"%"}},d3_time_parsers={a:d3_time_parseWeekdayAbbrev,A:d3_time_parseWeekday,b:d3_time_parseMonthAbbrev,B:d3_time_parseMonth,c:d3_time_parseLocaleFull,d:d3_time_parseDay,e:d3_time_parseDay,H:d3_time_parseHour24,I:d3_time_parseHour24,L:d3_time_parseMilliseconds,m:d3_time_parseMonthNumber,M:d3_time_parseMinutes,p:d3_time_parseAmPm,S:d3_time_parseSeconds,x:d3_time_parseLocaleDate,X:d3_time_parseLocaleTime,y:d3_time_parseYear,Y:d3_time_parseFullYear},d3_time_numberRe=/^\s*\d+/,d3_time_amPmLookup=d3.map({am:0,pm:1})