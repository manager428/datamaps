d3.geo.circle=function(){function i(){}function s(e){return r.distance(e)<n}function u(e){var t=-1,i=e.length,s=[],o,u,f,l,c;while(++t<i)c=r.distance(f=e[t]),c<n?(u&&s.push(d3_geo_greatArcInterpolate(u,f)((l-n)/(l-c))),s.push(f),o=u=null):(u=f,!o&&s.length&&(s.push(d3_geo_greatArcInterpolate(s[s.length-1],u)((n-l)/(c-l))),o=u)),l=c;return o=e[0],u=s[0],u&&f[0]===o[0]&&f[1]===o[1]&&(f[0]!==u[0]||f[1]!==u[1])&&s.push(u),a(s)}function a(e){var t=0,n=e.length,i,s,o=n?[e[0]]:e,u,a=r.source();while(++t<n){u=r.source(e[t-1])(e[t]).coordinates;for(i=0,s=u.length;++i<s;)o.push(u[i])}return r.source(a),o}var e=[0,0],t=89.99,n=t*d3_geo_radians,r=d3.geo.greatArc().source(e).target(d3_identity);i.clip=function(t){return typeof e=="function"&&r.source(e.apply(this,arguments)),o(t)||null};var o=d3_geo_type({FeatureCollection:function(e){var t=e.features.map(o).filter(d3_identity);return t&&(e=Object.create(e),e.features=t,e)},Feature:function(e){var t=o(e.geometry);return t&&(e=Object.create(e),e.geometry=t,e)},Point:function(e){return s(e.coordinates)&&e},MultiPoint:function(e){var t=e.coordinates.filter(s);return t.length&&{type:e.type,coordinates:t}},LineString:function(e){var t=u(e.coordinates);return t.length&&(e=Object.create(e),e.coordinates=t,e)},MultiLineString:function(e){var t=e.coordinates.map(u).filter(function(e){return e.length});return t.length&&(e=Object.create(e),e.coordinates=t,e)},Polygon:function(e){var t=e.coordinates.map(u);return t[0].length&&(e=Object.create(e),e.coordinates=t,e)},MultiPolygon:function(e){var t=e.coordinates.map(function(e){return e.map(u)}).filter(function(e){return e[0].length});return t.length&&(e=Object.create(e),e.coordinates=t,e)},GeometryCollection:function(e){var t=e.geometries.map(o).filter(d3_identity);return t.length&&(e=Object.create(e),e.geometries=t,e)}});return i.origin=function(t){return arguments.length?(e=t,typeof e!="function"&&r.source(e),i):e},i.angle=function(e){return arguments.length?(n=(t=+e)*d3_geo_radians,i):t},d3.rebind(i,r,"precision")}