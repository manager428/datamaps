require("../env");var vows=require("vows"),assert=require("assert"),suite=vows.describe("d3.geo.bonne");suite.addBatch({"default instance":{topic:function(){return d3.geo.bonne()},"scale defaults to 200":function(e){assert.equal(e.scale(),200)},"parallel defaults to 45°":function(e){assert.equal(e.parallel(),45)},"origin defaults to [0,0]":function(e){assert.deepEqual(e.origin(),[0,0])},"translate defaults to [480, 250]":function(e){assert.deepEqual(e.translate(),[480,250])}},"Bonne at 40° parallel":{topic:function(){return d3.geo.bonne().parallel(40)},Arctic:function(e){var t=[0,85],n=e(t);assert.inDelta(n,[480,92.920367],1e-6),assert.inDelta(e.invert(n),t,1e-6)},Antarctic:function(e){var t=[0,-85],n=e(t);assert.inDelta(n,[480,686.332312],1e-6),assert.inDelta(e.invert(n),t,1e-6)},Hawaii:function(e){var t=[-180,0],n=e(t);assert.inDelta(n,[103.604887,-22.895998],1e-6),assert.inDelta(e.invert(n),t,1e-6)},Phillipines:function(e){var t=[180,0],n=e(t);assert.inDelta(n,[856.395112,-22.895998],1e-6),assert.inDelta(e.invert(n),t,1e-6)},"invert observes translation":function(){var e=d3.geo.bonne().translate([123,99]).scale(100),t=e([0,85]),n=e.invert(t);assert.inDelta(n[0],0,1e-6),assert.inDelta(n[1],85,1e-6)},"invert(project(location)) equals location":function(e){for(var t=-1;t<20;++t){var n=[Math.random()*360-180,Math.random()*180-90];assert.inDelta(n,e.invert(e(n)),.5)}},"project(invert(point)) equals point":function(e){for(var t=-1;t<20;++t){var n=[Math.random()*700+100,Math.random()*400+50];assert.inDelta(n,e(e.invert(n)),.5)}}},Werner:{topic:function(){return d3.geo.bonne().parallel(90)},"invert(project(location)) equals location":function(e){for(var t=-1;t<20;++t){var n=[Math.random()*360-180,Math.random()*180-90];assert.inDelta(n,e.invert(e(n)),.5)}},"project(invert(point)) equals point":function(e){for(var t=-1;t<20;++t){var n=[Math.random()*700+100,Math.random()*400+50];assert.inDelta(n,e(e.invert(n)),.5)}}},Sinsuoidal:{topic:function(){return d3.geo.bonne().parallel(0)},"invert(project(location)) equals location":function(e){for(var t=-1;t<20;++t){var n=[Math.random()*360-180,Math.random()*180-90];assert.inDelta(n,e.invert(e(n)),.5)}},"project(invert(point)) equals point":function(e){for(var t=-1;t<20;++t){var n=[Math.random()*700+100,Math.random()*400+50];assert.inDelta(n,e(e.invert(n)),.5)}}}}),suite.export(module)