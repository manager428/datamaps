function data(e){return e.__data__}require("../env");var vows=require("vows"),assert=require("assert"),suite=vows.describe("selection.sort");suite.addBatch({"selectAll(div).selectAll(span)":{topic:function(){return d3.select("body").html("").selectAll("div").data([1,2,10,20]).enter().append("div").selectAll("span").data(function(e){return[20+e,2+e,10,1]}).enter().append("span")},"sorts elements by natural order":function(e){e.sort(),assert.domNull(e[0][0].previousSibling),assert.domEqual(e[0][1].previousSibling,e[0][0]),assert.domEqual(e[0][2].previousSibling,e[0][1]),assert.domEqual(e[0][3].previousSibling,e[0][2]),assert.domNull(e[0][3].nextSibling)},"sorts each group independently":function(e){e.sort(d3.descending),assert.deepEqual(e[0].map(data),[21,10,3,1]),assert.deepEqual(e[1].map(data),[22,10,4,1]),assert.deepEqual(e[2].map(data),[30,12,10,1]),assert.deepEqual(e[3].map(data),[40,22,10,1])},"sorts using the specified comparator":function(e){e.sort(function(e,t){return d3.ascending(e+"",t+"")}),assert.deepEqual(e[0].map(data),[1,10,21,3]),assert.deepEqual(e[1].map(data),[1,10,22,4]),assert.deepEqual(e[2].map(data),[1,10,12,30]),assert.deepEqual(e[3].map(data),[1,10,22,40])},"treats null nodes as null data":function(e){var t=d3.selectAll("div:first-child span"),n=!1;t[0][0]=null,t.sort(function(e,t){return(e===null||t===null)&&++n,e-t}),assert.isTrue(n>0),assert.domNull(e[0][0].previousSibling),assert.deepEqual(t[0].slice(1).map(data),[3,10,21])},"returns the current selection":function(e){e=d3.select("body"),assert.isTrue(e.sort()===e)}}}),suite.export(module)