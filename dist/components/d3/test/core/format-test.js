require("../env");var vows=require("vows"),assert=require("assert"),suite=vows.describe("d3.format");suite.addBatch({format:{topic:function(){return d3.format},"returns a string":function(e){assert.isString(e("d")(0))},"can zero fill":function(e){var t=e("08d");assert.strictEqual(t(0),"00000000"),assert.strictEqual(t(42),"00000042"),assert.strictEqual(t(42e6),"42000000"),assert.strictEqual(t(42e7),"420000000"),assert.strictEqual(t(-4),"-0000004"),assert.strictEqual(t(-42),"-0000042"),assert.strictEqual(t(-42e5),"-4200000"),assert.strictEqual(t(-42e6),"-42000000")},"can space fill":function(e){var t=e("8d");assert.strictEqual(t(0),"       0"),assert.strictEqual(t(42),"      42"),assert.strictEqual(t(42e6),"42000000"),assert.strictEqual(t(42e7),"420000000"),assert.strictEqual(t(-4),"      -4"),assert.strictEqual(t(-42),"     -42"),assert.strictEqual(t(-42e5),"-4200000"),assert.strictEqual(t(-42e6),"-42000000")},"can output fixed-point notation":function(e){assert.strictEqual(e(".1f")(.49),"0.5"),assert.strictEqual(e(".2f")(.449),"0.45"),assert.strictEqual(e(".3f")(.4449),"0.445"),assert.strictEqual(e(".5f")(.444449),"0.44445"),assert.strictEqual(e(".1f")(100),"100.0"),assert.strictEqual(e(".2f")(100),"100.00"),assert.strictEqual(e(".3f")(100),"100.000"),assert.strictEqual(e(".5f")(100),"100.00000")},"can output general notation":function(e){assert.strictEqual(e(".1g")(.049),"0.05"),assert.strictEqual(e(".1g")(.49),"0.5"),assert.strictEqual(e(".2g")(.449),"0.45"),assert.strictEqual(e(".3g")(.4449),"0.445"),assert.strictEqual(e(".5g")(.444449),"0.44445"),assert.strictEqual(e(".1g")(100),"1e+2"),assert.strictEqual(e(".2g")(100),"1.0e+2"),assert.strictEqual(e(".3g")(100),"100"),assert.strictEqual(e(".5g")(100),"100.00"),assert.strictEqual(e(".5g")(100.2),"100.20"),assert.strictEqual(e(".2g")(.002),"0.0020")},"can output exponent notation ":function(e){var t=e("e");assert.strictEqual(t(0),"0e+0"),assert.strictEqual(t(42),"4.2e+1"),assert.strictEqual(t(42e6),"4.2e+7"),assert.strictEqual(t(42e7),"4.2e+8"),assert.strictEqual(t(-4),"-4e+0"),assert.strictEqual(t(-42),"-4.2e+1"),assert.strictEqual(t(-42e5),"-4.2e+6"),assert.strictEqual(t(-42e6),"-4.2e+7")},"can output SI prefix notation":function(e){var t=e("s");assert.strictEqual(t(0),"0"),assert.strictEqual(t(1),"1"),assert.strictEqual(t(10),"10"),assert.strictEqual(t(100),"100"),assert.strictEqual(t(999.5),"999.5"),assert.strictEqual(t(999500),"999.5k"),assert.strictEqual(t(1e3),"1k"),assert.strictEqual(t(1400),"1.4k"),assert.strictEqual(t(1500.5),"1.5005k"),assert.strictEqual(t(1e-6),"1μ")},"can output SI prefix notation with appropriate rounding":function(e){var t=e(".3s");assert.strictEqual(t(0),"0.00"),assert.strictEqual(t(1),"1.00"),assert.strictEqual(t(10),"10.0"),assert.strictEqual(t(100),"100"),assert.strictEqual(t(999.5),"1.00k"),assert.strictEqual(t(999500),"1.00M"),assert.strictEqual(t(1e3),"1.00k"),assert.strictEqual(t(1500.5),"1.50k"),assert.strictEqual(t(1455e5),"146M"),assert.strictEqual(t(145999999.99999934),"146M"),assert.strictEqual(t(1e26),"100Y"),assert.strictEqual(t(1e-6),"1.00μ"),assert.strictEqual(t(.009995),"0.0100");var t=e(".4s");assert.strictEqual(t(999.5),"999.5"),assert.strictEqual(t(999500),"999.5k"),assert.strictEqual(t(.009995),"9.995m")},"can output a percentage":function(e){var t=e("%");assert.strictEqual(t(0),"0%"),assert.strictEqual(t(.042),"4%"),assert.strictEqual(t(.42),"42%"),assert.strictEqual(t(4.2),"420%"),assert.strictEqual(t(-0.042),"-4%"),assert.strictEqual(t(-0.42),"-42%"),assert.strictEqual(t(-4.2),"-420%")},"can output a percentage with rounding and sign":function(e){var t=e("+.2p");assert.strictEqual(t(.00123),"+0.12%"),assert.strictEqual(t(.0123),"+1.2%"),assert.strictEqual(t(.123),"+12%"),assert.strictEqual(t(1.23),"+120%"),assert.strictEqual(t(-0.00123),"-0.12%"),assert.strictEqual(t(-0.0123),"-1.2%"),assert.strictEqual(t(-0.123),"-12%"),assert.strictEqual(t(-1.23),"-120%")},"can round to significant digits":function(e){assert.strictEqual(e(".2r")(0),"0.0"),assert.strictEqual(e(".1r")(.049),"0.05"),assert.strictEqual(e(".1r")(.49),"0.5"),assert.strictEqual(e(".2r")(.449),"0.45"),assert.strictEqual(e(".3r")(.4449),"0.445"),assert.strictEqual(e(".3r")(1),"1.00"),assert.strictEqual(e(".3r")(.9995),"1.00"),assert.strictEqual(e(".5r")(.444449),"0.44445"),assert.strictEqual(e("r")(123.45),"123.45"),assert.strictEqual(e(".1r")(123.45),"100"),assert.strictEqual(e(".2r")(123.45),"120"),assert.strictEqual(e(".3r")(123.45),"123"),assert.strictEqual(e(".4r")(123.45),"123.5"),assert.strictEqual(e(".5r")(123.45),"123.45"),assert.strictEqual(e(".6r")(123.45),"123.450")},"can round very small numbers":function(e){var t=e(".2r");assert.strictEqual(t(1e-22),"0.00000000000000000000")},"can group thousands":function(e){var t=e(",d");assert.strictEqual(t(0),"0"),assert.strictEqual(t(42),"42"),assert.strictEqual(t(42e6),"42,000,000"),assert.strictEqual(t(42e7),"420,000,000"),assert.strictEqual(t(-4),"-4"),assert.strictEqual(t(-42),"-42"),assert.strictEqual(t(-42e5),"-4,200,000"),assert.strictEqual(t(-42e6),"-42,000,000")},"can group thousands and zero fill":function(e){assert.strictEqual(e("01,d")(0),"0"),assert.strictEqual(e("01,d")(0),"0"),assert.strictEqual(e("02,d")(0),"00"),assert.strictEqual(e("03,d")(0),"000"),assert.strictEqual(e("05,d")(0),"0,000"),assert.strictEqual(e("08,d")(0),"0,000,000"),assert.strictEqual(e("013,d")(0),"0,000,000,000"),assert.strictEqual(e("021,d")(0),"0,000,000,000,000,000")},"can group thousands and zero fill with overflow":function(e){assert.strictEqual(e("01,d")(1),"1"),assert.strictEqual(e("01,d")(1),"1"),assert.strictEqual(e("02,d")(12),"12"),assert.strictEqual(e("03,d")(123),"123"),assert.strictEqual(e("05,d")(12345),"12,345"),assert.strictEqual(e("08,d")(12345678),"12,345,678"),assert.strictEqual(e("013,d")(1234567890123),"1,234,567,890,123")},"can group thousands and space fill":function(e){assert.strictEqual(e("1,d")(0),"0"),assert.strictEqual(e("1,d")(0),"0"),assert.strictEqual(e("2,d")(0)," 0"),assert.strictEqual(e("3,d")(0),"  0"),assert.strictEqual(e("5,d")(0),"    0"),assert.strictEqual(e("8,d")(0),"       0"),assert.strictEqual(e("13,d")(0),"            0"),assert.strictEqual(e("21,d")(0),"                    0")},"can group thousands and space fill with overflow":function(e){assert.strictEqual(e("1,d")(1),"1"),assert.strictEqual(e("1,d")(1),"1"),assert.strictEqual(e("2,d")(12),"12"),assert.strictEqual(e("3,d")(123),"123"),assert.strictEqual(e("5,d")(12345),"12,345"),assert.strictEqual(e("8,d")(12345678),"12,345,678"),assert.strictEqual(e("13,d")(1234567890123),"1,234,567,890,123")},"can group thousands with general notation":function(e){var t=e(",g");assert.strictEqual(t(0),"0"),assert.strictEqual(t(42),"42"),assert.strictEqual(t(42e6),"42,000,000"),assert.strictEqual(t(42e7),"420,000,000"),assert.strictEqual(t(-4),"-4"),assert.strictEqual(t(-42),"-42"),assert.strictEqual(t(-42e5),"-4,200,000"),assert.strictEqual(t(-42e6),"-42,000,000")},"can group thousands, space fill, and round to significant digits":function(e){assert.strictEqual(e("10,.1f")(123456.49)," 123,456.5"),assert.strictEqual(e("10,.2f")(1234567.449),"1,234,567.45"),assert.strictEqual(e("10,.3f")(12345678.4449),"12,345,678.445"),assert.strictEqual(e("10,.5f")(123456789.444449),"123,456,789.44445"),assert.strictEqual(e("10,.1f")(123456)," 123,456.0"),assert.strictEqual(e("10,.2f")(1234567),"1,234,567.00"),assert.strictEqual(e("10,.3f")(12345678),"12,345,678.000"),assert.strictEqual(e("10,.5f")(123456789),"123,456,789.00000")},"can display integers in fixed-point notation":function(e){assert.strictEqual(e("f")(42),"42")},"will not display non-integers in integer format":function(e){assert.strictEqual(e("d")(4.2),"")},'supports "n" as an alias for ",g"':function(e){var t=e("n");assert.strictEqual(t(.0042),"0.0042"),assert.strictEqual(t(.42),"0.42"),assert.strictEqual(t(0),"0"),assert.strictEqual(t(42),"42"),assert.strictEqual(t(42e6),"42,000,000"),assert.strictEqual(t(42e7),"420,000,000"),assert.strictEqual(t(-4),"-4"),assert.strictEqual(t(-42),"-42"),assert.strictEqual(t(-42e5),"-4,200,000"),assert.strictEqual(t(-42e6),"-42,000,000")}}}),suite.export(module)