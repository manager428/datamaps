require("../env");var vows=require("vows"),assert=require("assert"),suite=vows.describe("selection.call");suite.addBatch({"select(body)":{topic:function(){return d3.select("body").html("")},"calls the function once":function(e){var t=0;e.call(function(){++t}),assert.equal(t,1)},"passes any optional arguments":function(e){var t;e.call(function(e,n,r,i){t=[n,r,i]},"a","b","c"),assert.deepEqual(t,["a","b","c"])},"passes the selection as the first argument":function(e){var t;e.call(function(e){t=e}),assert.isTrue(t===e)},"uses the selection as the context":function(e){var t;e.call(function(){t=this}),assert.isTrue(t===e)},"returns the current selection":function(e){assert.isTrue(e.call(function(){})===e)}}}),suite.addBatch({"selectAll(div)":{topic:function(){return d3.select("body").html("").selectAll("div").data(d3.range(2)).enter().append("div")},"calls the function once":function(e){var t=0;e.call(function(){++t}),assert.equal(t,1)},"passes any optional arguments":function(e){var t;e.call(function(e,n,r,i){t=[n,r,i]},"a","b","c"),assert.deepEqual(t,["a","b","c"])},"passes the selection as the first argument":function(e){var t;e.call(function(e){t=e}),assert.isTrue(t===e)},"uses the selection as the context":function(e){var t;e.call(function(){t=this}),assert.isTrue(t===e)},"returns the current selection":function(e){assert.isTrue(e.call(function(){})===e)}}}),suite.export(module)