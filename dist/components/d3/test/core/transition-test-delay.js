require("../env");var assert=require("assert");module.exports={topic:function(){return d3.select("body").html("").selectAll().data(["foo","bar"]).enter().append("div").attr("class",String)},"defaults to zero":function(e){var t=e.transition();assert.strictEqual(t[0][0].delay,0),assert.strictEqual(t[0][1].delay,0)},"can specify delay as a number":function(e){var t=e.transition().delay(150);assert.strictEqual(t[0][0].delay,150),assert.strictEqual(t[0][1].delay,150),t.delay(250),assert.strictEqual(t[0][0].delay,250),assert.strictEqual(t[0][1].delay,250)},"can specify delay as a negative number":function(e){var t=e.transition().delay(-250);assert.strictEqual(t[0][0].delay,-250),assert.strictEqual(t[0][1].delay,-250)},"NaN delays are treated as 0ms":function(e){var t=e.transition().delay(NaN);assert.strictEqual(t[0][0].delay,0),assert.strictEqual(t[0][1].delay,0)},"floating-point durations are floored to integers":function(e){var t=e.transition().delay(14.6);assert.strictEqual(t[0][0].delay,14),assert.strictEqual(t[0][1].delay,14);var t=e.transition().delay("16.99");assert.strictEqual(t[0][0].delay,16),assert.strictEqual(t[0][1].delay,16)},"can specify delay as a function":function(e){function s(e,i){return t.push(e),n.push(i),r.push(this),i*20}var t=[],n=[],r=[],i=e.transition().delay(s);assert.strictEqual(i[0][0].delay,0),assert.strictEqual(i[0][1].delay,20),assert.deepEqual(t,["foo","bar"],"expected data, got {actual}"),assert.deepEqual(n,[0,1],"expected index, got {actual}"),assert.domEqual(r[0],i[0][0].node,"expected this, got {actual}"),assert.domEqual(r[1],i[0][1].node,"expected this, got {actual}")},"coerces delay to a number":function(e){var t=e.transition().delay("150");assert.strictEqual(t[0][0].delay,150),assert.strictEqual(t[0][1].delay,150)}}